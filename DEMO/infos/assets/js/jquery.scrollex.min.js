!function(s){function a(t,e,n){return"string"==typeof t&&("%"==t.slice(-1)?t=parseInt(t.substring(0,t.length-1))/100*e:"vh"==t.slice(-2)?t=parseInt(t.substring(0,t.length-2))/100*n:"px"==t.slice(-2)&&(t=parseInt(t.substring(0,t.length-2)))),t}var u=s(window),r=1,h={};u.on("scroll",function(){var e=u.scrollTop();s.map(h,function(t){window.clearTimeout(t.timeoutId),t.timeoutId=window.setTimeout(function(){t.handler(e)},t.options.delay)})}).on("load",function(){u.trigger("scroll")}),jQuery.fn.scrollex=function(t){var e=s(this);if(0!=this.length)if(1<this.length)for(var n=0;n<this.length;n++)s(this[n]).scrollex(t);else if(!e.data("_scrollexId")){var i,o=r++,l=jQuery.extend({top:0,bottom:0,delay:0,mode:"default",enter:null,leave:null,initialize:null,terminate:null,scroll:null},t);switch(l.mode){case"top":i=function(t,e,n,i,o){return i<=t&&t<=o};break;case"bottom":i=function(t,e,n,i,o){return i<=n&&n<=o};break;case"middle":i=function(t,e,n,i,o){return i<=e&&e<=o};break;case"top-only":i=function(t,e,n,i,o){return t<=i&&i<=n};break;case"bottom-only":i=function(t,e,n,i,o){return o<=n&&t<=o};break;default:i=function(t,e,n,i,o){return i<=n&&t<=o}}h[o]=o={id:o,options:l,test:i,handler:function(t){var e=this.state,n=this.$element.offset(),i=u.height(),o=t+i/2,l=t+i,s=this.$element.outerHeight(),r=n.top+a(this.options.top,s,i),n=n.top+s-a(this.options.bottom,s,i);(s=this.test(t,o,l,r,n))!=e&&((this.state=s)?this.options.enter&&this.options.enter.apply(this.element):this.options.leave&&this.options.leave.apply(this.element)),this.options.scroll&&this.options.scroll.apply(this.element,[(o-r)/(n-r)])},state:null,element:this,$element:e,timeoutId:null},e.data("_scrollexId",o.id),o.options.initialize&&o.options.initialize.apply(this)}return e},jQuery.fn.unscrollex=function(){var t,e,n=s(this);if(0!=this.length)if(1<this.length)for(var i=0;i<this.length;i++)s(this[i]).unscrollex();else(t=n.data("_scrollexId"))&&(e=h[t],window.clearTimeout(e.timeoutId),delete h[t],n.removeData("_scrollexId"),e.options.terminate)&&e.options.terminate.apply(this);return n}}(jQuery);