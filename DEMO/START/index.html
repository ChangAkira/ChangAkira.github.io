<!DOCTYPE HTML><html><head><title>--第九章--</title><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1, user-scalable=no"><link rel=stylesheet href=../thetwo/assets/css/main.css><noscript><link rel=stylesheet href=../thetwo/assets/css/noscript.css></noscript><script src=https://cdn.jsdelivr.net/npm/marked/marked.min.js></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* 第一个容器：H2、消息记录、FORM */
        #first-container {
            height: 100vh;
            /* 占据视口的全部高度 */
            display: flex;
            flex-direction: column;
        }

        /* H2 标题 */
        header.major.special {
            flex-shrink: 0;
            /* 防止标题被压缩 */
            padding: 20px;
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* 消息记录部分 */
        #response-container {
            flex: 1;
            overflow-y: auto;
            /* 消息记录可以滚动 */
            padding: 20px;
        }

        /* FORM 输入框 */
        #chatForm {
            flex-shrink: 0;
            /* 防止输入框被压缩 */
            background: white;
            padding: 10px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }


    </style></head><body><div id=first-container><header class="major special"><h2>对话</h2></header><div id=response-container><p>你好，我是第十章，基于知识库与deepseek开源模型的算术与数学问答系统。试着问我：</p><p>介绍勾股定理,解方程： 5(x + 2) = 30,解不等式： 3x + 1 > 10等。</p><p>我还可以回答中国古代算术书籍中的相关知识。试着问我：介绍孙子定理，介绍《周髀算经》等。</p><p>项目介绍请访问团队主页：<a href=../infos/index.html>../infos/index.html</a></p><p>现在，开始向我提问吧！</p><hr></div><form id=chatForm><div class="row gtr-uniform gtr-50"><div class=col-12><textarea name=demo-message id=demo-message placeholder="Enter your message" rows=1></textarea></div><div class=col-12><ul class=actions><li><button type=submit id=send-button class=primary>Send Message</button></li><li><button type=reset>Reset</button></li></ul></div></div></form></div><section id=footer><ul class=icons><li><a href=https://github.com/ChangAkira class="icon brands alt fa-github" target=_blank><span class=label>GitHub</span></a></li><li><a href=mailto://a259759666@163.com class="icon solid alt fa-envelope"><span class=label>envelope</span></a></li></ul><ul class=copyright><li>&copy; 第九章</li><li><a href=../infos/index.html target=_blank>团队主页</a></li></ul></section><script src=../thetwo/assets/js/jquery.min.js></script><script src=../thetwo/assets/js/jquery.scrolly.min.js></script><script src=../thetwo/assets/js/browser.min.js></script><script src=../thetwo/assets/js/breakpoints.min.js></script><script src=../thetwo/assets/js/util.js></script><script src=../thetwo/assets/js/main.js></script><script>
        document.getElementById("chatForm").addEventListener("submit", async (event) => {
            event.preventDefault();

            const userMessage = document.getElementById("demo-message").value;
            const responseContainer = document.getElementById("response-container");
            const apiUrl = "https://api.deepseek.com/chat/completions";
            const apiKey = "sk-2bb1b37a7bcb4485bf791fd570095461"; // 替换为你的 API Key

            responseContainer.innerHTML += `<p><strong>User:</strong> ${userMessage}</p>`;
            responseContainer.innerHTML += `<p><em>Loading...</em></p>`;

            try {
                const response = await fetch(apiUrl, {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${apiKey}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        model: "deepseek-chat",
                        messages: [{ role: "user", content: userMessage }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                const reply = data.choices[0].message.content;
                const parsedReply = marked.parse(reply);

                responseContainer.lastChild.innerHTML = `<strong>第九章:</strong> ${parsedReply}`;

                MathJax.typesetPromise();
            } catch (error) {
                responseContainer.lastChild.innerHTML = `<strong>Error:</strong> ${error.message}`;
            } finally {
                document.getElementById("demo-message").value = "";
            }
        });
    </script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>